{"ast":null,"code":"var _jsxFileName = \"/Users/gibeom/Desktop/2022/src/Routes/Chart.tsx\",\n    _s = $RefreshSig$();\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport ReactApexChart from \"react-apexcharts\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchCoinHistory } from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Chart() {\n  _s();\n\n  const chartCoinId = useParams();\n  const coinId = chartCoinId.coinId;\n  const {\n    isLoading,\n    data\n  } = useQuery(['ohlcv', coinId], () => fetchCoinHistory(coinId));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading ? \"Loading chart...\" :\n    /*#__PURE__*/\n    //@ts-ignore\n    _jsxDEV(ReactApexChart, {\n      type: \"candlestick\",\n      series: [{\n        //@ts-ignore\n        data: data === null || data === void 0 ? void 0 : data.map(price => {\n          return [price.time_close, price.open, price.high, price.low, price.close];\n        })\n      }],\n      options: {\n        theme: {\n          mode: \"dark\"\n        },\n        chart: {\n          type: 'candlestick',\n          height: 350,\n          width: 500,\n          toolbar: {\n            show: false\n          },\n          background: 'transparent'\n        },\n        stroke: {\n          curve: \"smooth\",\n          width: 2\n        },\n        yaxis: {\n          show: false\n        },\n        xaxis: {\n          type: 'datetime',\n          //@ts-ignore\n          categories: data === null || data === void 0 ? void 0 : data.map(price => price.time_close),\n          labels: {\n            style: {\n              colors: '#9c88ff'\n            }\n          }\n        },\n        plotOptions: {\n          candlestick: {\n            colors: {\n              upward: '#3c90eb',\n              downward: '#df7d46'\n            }\n          }\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Chart, \"2knZaw9Y5GUli5mu9Fm8G7H9LmA=\", false, function () {\n  return [useParams, useQuery];\n});\n\n_c = Chart;\nexport default Chart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chart\");","map":{"version":3,"names":["useQuery","ReactApexChart","useParams","fetchCoinHistory","Chart","chartCoinId","coinId","isLoading","data","map","price","time_close","open","high","low","close","theme","mode","chart","type","height","width","toolbar","show","background","stroke","curve","yaxis","xaxis","categories","labels","style","colors","plotOptions","candlestick","upward","downward"],"sources":["/Users/gibeom/Desktop/2022/src/Routes/Chart.tsx"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\nimport ReactApexChart from \"react-apexcharts\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchCoinHistory } from \"../api\";\n\n\ninterface IHistorical{\n    time_open:string;\n    time_close:string,\n    open:number;\n    high:number;\n    low:number;\n    close:number;\n    volume:number;\n    market_cap:number;\n}\n\ninterface ChartProps{\n    coinId:string;\n}\n\n\n\nfunction Chart(){\n    const chartCoinId = useParams<keyof ChartProps>() as ChartProps \n    const coinId = chartCoinId.coinId\n    const {isLoading, data} = useQuery<IHistorical>(\n        ['ohlcv', coinId], \n    () => fetchCoinHistory(coinId)\n   )\n   \n    return (\n        <>\n        {isLoading? \"Loading chart...\" : \n        //@ts-ignore\n        <ReactApexChart \n        type='candlestick'\n        series={[\n            {           //@ts-ignore\n                data:data?.map((price) => {\n                    return[ \n                        price.time_close,\n                        price.open,\n                        price.high,\n                        price.low,  \n                        price.close\n                    ];\n                }),\n            },\n        ]}\n        options={{\n            theme:{\n                mode:\"dark\",\n            },\n            chart:{\n                type:'candlestick',\n                height:350,\n                width:500,\n                toolbar:{\n                    show:false,\n                },\n                background:'transparent',\n            },\n            stroke:{\n                curve:\"smooth\",\n                width:2,\n            },\n            yaxis:{\n                show:false,\n            },\n            xaxis:{\n                type:'datetime',\n                                //@ts-ignore\n                categories:data?.map((price)=>price.time_close),\n                labels:{\n                    style:{\n                        colors:'#9c88ff'\n                    }\n                }\n            },\n            plotOptions:{\n                candlestick:{\n                    colors:{\n                        upward:'#3c90eb',\n                        downward:'#df7d46'\n                    }\n                }\n            }\n        }}/>\n        \n        }\n        </>\n    )\n}\n\nexport default Chart;"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,uBAAzB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,SAASC,gBAAT,QAAiC,QAAjC;;;;AAoBA,SAASC,KAAT,GAAgB;EAAA;;EACZ,MAAMC,WAAW,GAAGH,SAAS,EAA7B;EACA,MAAMI,MAAM,GAAGD,WAAW,CAACC,MAA3B;EACA,MAAM;IAACC,SAAD;IAAYC;EAAZ,IAAoBR,QAAQ,CAC9B,CAAC,OAAD,EAAUM,MAAV,CAD8B,EAElC,MAAMH,gBAAgB,CAACG,MAAD,CAFY,CAAlC;EAKA,oBACI;IAAA,UACCC,SAAS,GAAE,kBAAF;IAAA;IACV;IACA,QAAC,cAAD;MACA,IAAI,EAAC,aADL;MAEA,MAAM,EAAE,CACJ;QAAY;QACRC,IAAI,EAACA,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEC,GAAN,CAAWC,KAAD,IAAW;UACtB,OAAM,CACFA,KAAK,CAACC,UADJ,EAEFD,KAAK,CAACE,IAFJ,EAGFF,KAAK,CAACG,IAHJ,EAIFH,KAAK,CAACI,GAJJ,EAKFJ,KAAK,CAACK,KALJ,CAAN;QAOH,CARI;MADT,CADI,CAFR;MAeA,OAAO,EAAE;QACLC,KAAK,EAAC;UACFC,IAAI,EAAC;QADH,CADD;QAILC,KAAK,EAAC;UACFC,IAAI,EAAC,aADH;UAEFC,MAAM,EAAC,GAFL;UAGFC,KAAK,EAAC,GAHJ;UAIFC,OAAO,EAAC;YACJC,IAAI,EAAC;UADD,CAJN;UAOFC,UAAU,EAAC;QAPT,CAJD;QAaLC,MAAM,EAAC;UACHC,KAAK,EAAC,QADH;UAEHL,KAAK,EAAC;QAFH,CAbF;QAiBLM,KAAK,EAAC;UACFJ,IAAI,EAAC;QADH,CAjBD;QAoBLK,KAAK,EAAC;UACFT,IAAI,EAAC,UADH;UAEc;UAChBU,UAAU,EAACrB,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEC,GAAN,CAAWC,KAAD,IAASA,KAAK,CAACC,UAAzB,CAHT;UAIFmB,MAAM,EAAC;YACHC,KAAK,EAAC;cACFC,MAAM,EAAC;YADL;UADH;QAJL,CApBD;QA8BLC,WAAW,EAAC;UACRC,WAAW,EAAC;YACRF,MAAM,EAAC;cACHG,MAAM,EAAC,SADJ;cAEHC,QAAQ,EAAC;YAFN;UADC;QADJ;MA9BP;IAfT;MAAA;MAAA;MAAA;IAAA;EAHA,iBADJ;AA8DH;;GAtEQhC,K;UACeF,S,EAEMF,Q;;;KAHrBI,K;AAwET,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}